/*!
 * Copyright (c) 2017 NAVER Corp.
 * @egjs/infinitegrid project is licensed under the MIT license
 * 
 * @egjs/infinitegrid JavaScript library
 * 
 * 
 * @version 2.0.0-rc
 * 
 * All-in-one packaged file for ease use of '@egjs/infinitegrid' with below dependencies.
 * NOTE: This is not an official distribution file and is only for user convenience.
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("InfiniteGrid",[],e):"object"==typeof exports?exports.InfiniteGrid=e():(t.eg=t.eg||{},t.eg.InfiniteGrid=e())}(this,function(){return function(t){function __webpack_require__(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,__webpack_require__),i.l=!0,i.exports}var e={};return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3)}([function(t,e,n){"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.utils=e.Mixin=undefined;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(2),r=!!("getComputedStyle"in o.window),s=!!("addEventListener"in o.document),u=function(){var t=!1;try{s&&Object.defineProperty&&o.document.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(e){}return t}(),a={$:function(t){var e=arguments.length>1&&arguments[1]!==undefined&&arguments[1],n=void 0;if("string"==typeof t){if(t.match(/^<([a-z]+)\s*([^>]*)>/)){var i=o.document.createElement("div");i.innerHTML=t,n=Array.prototype.slice.call(i.childNodes)}else n=Array.prototype.slice.call(o.document.querySelectorAll(t));e||(n=n.length>=1?n[0]:undefined)}else t===o.window?n=t:!t.nodeName||1!==t.nodeType&&9!==t.nodeType?"jQuery"in o.window&&t instanceof jQuery||t.constructor.prototype.jquery?n=e?t.toArray():t.get(0):Array.isArray(t)&&(n=t.map(function(t){return a.$(t)}),e||(n=n.length>=1?n[0]:undefined)):n=t;return n},addEvent:function(t,e,n,o){if(s){var r=o||!1;"object"===(void 0===o?"undefined":i(o))&&(r=!!u&&o),t.addEventListener(e,n,r)}else t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},removeEvent:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null},scrollTop:function(t){return t===o.window?o.document.body.scrollTop||o.document.documentElement.scrollTop:t.scrollTop},scrollTo:function(t,e,n){t===o.window?t.scrollTo(e,n):(t.scrollLeft=e,t.scrollTop=n)},getSize:function(t,e){var n=arguments.length>2&&arguments[2]!==undefined&&arguments[2],i=arguments.length>3&&arguments[3]!==undefined&&arguments[3];if(t===o.window)return t.document.documentElement["client"+e];if(9===t.nodeType){var s=t.documentElement;return Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])}var u=r?o.window.getComputedStyle(t):t.currentStyle,a="Height"===e?"Top":"Left",l="Height"===e?"Bottom":"Right";return parseFloat(u[e.toLowerCase()])+(n?parseFloat(u["border"+a])+parseFloat(u["border"+l]):0)+(i?parseFloat(u["margin"+a])+parseFloat(u["margin"+l]):0)},innerWidth:function(t){return this.getSize(t,"Width")},innerHeight:function(t){return this.getSize(t,"Height")},isEmptyObject:function(t){var e=void 0;for(e in t)return!1;return!0}},l=function(){function MixinBuilder(t){_classCallCheck(this,MixinBuilder),this.superclass=t||function(){function _class(){_classCallCheck(this,_class)}return _class}()}return MixinBuilder.prototype["with"]=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(t,e){return e(t)},this.superclass)},MixinBuilder}(),c=function(t){return new l(t)};e.Mixin=c,e.utils=a},function(t,e,n){"use strict";e.__esModule=!0,e.RETRY=e.IS_ANDROID2=e.IS_IOS=e.IS_IE=undefined;var i=n(2),o=i.window.navigator.userAgent;e.IS_IE=/MSIE|Trident|Windows Phone|Edge/.test(o),e.IS_IOS=/iPhone|iPad/.test(o),e.IS_ANDROID2=/Android 2\./.test(o),e.RETRY=3},function(t,e,n){"use strict";e.__esModule=!0;var i="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")();e.window=i;e.document=i.document},function(t,e,n){"use strict";var i=n(4),o=function(t){return t&&t.__esModule?t:{"default":t}}(i);o["default"].VERSION="2.0.0-rc",t.exports=o["default"]},function(t,e,n){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(5),s=_interopRequireDefault(r),u=n(6),a=_interopRequireDefault(u),l=n(2),c=n(1),p=n(0),h=n(7),f=_interopRequireDefault(h),d=n(8),y=_interopRequireDefault(d);"function"!=typeof Object.create&&(Object.create=function(t,e){function F(){}if("object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");return F.prototype=t,new F});var _=function(t){function InfiniteGrid(e,n){_classCallCheck(this,InfiniteGrid);var o=_possibleConstructorReturn(this,t.call(this,e,n));return i(o.options={isEqualSize:!1,defaultGroupKey:null,count:100,isOverflowScroll:!1,threshold:300},n),c.IS_ANDROID2&&(o.options.isOverflowScroll=!1),o._initElements(e),o.layoutManager=new y["default"](o.el,o.options),o._reset(),o._resizeViewport(),o.el.children.length>0&&o.layout(!0,y["default"].itemize(o.el.children,o.options.defaultGroupKey)),o._attachEvent(),o}return _inherits(InfiniteGrid,t),InfiniteGrid.prototype._initElements=function(t){if(this.options.isOverflowScroll){this.view=p.utils.$(t),this.el=l.document.createElement("div");for(var e=this.view&&this.view.children,n=e.length,i=0;i<n;i++)this.el.appendChild(e[0]);this.view.style.overflowY="scroll",this.view.appendChild(this.el)}else this.el=p.utils.$(t),this.view=l.window},InfiniteGrid.prototype._resizeViewport=function(){this._status.clientHeight=p.utils.innerHeight(this.view)},InfiniteGrid.prototype.getStatus=function(){var t={};for(var e in this._status)!Object.prototype.hasOwnProperty.call(this._status,e)||this._status[e]instanceof Element||(t[e]=this._status[e]);return{html:this.el.innerHTML,cssText:this.el.style.cssText,layoutManager:this.layoutManager.getStatus(),options:i({},this.options),prop:t}},InfiniteGrid.prototype.setStatus=function(t){return t&&t.options&&t.prop&&t.layoutManager&&t.html&&t.cssText?(this.el.style.cssText=t.cssText,this.el.innerHTML=t.html,i(this.options,t.options),i(this._status,t.prop),this.layoutManager.setStatus(t.layoutManager),this._status.topElement=this.getTopElement(),this._status.bottomElement=this.getBottomElement(),this):this},InfiniteGrid.prototype.isProcessing=function(){return this._status.isProcessing},InfiniteGrid.prototype.isRecycling=function(){return this.options.count>0&&this._status.isRecycling},InfiniteGrid.prototype.getGroupKeys=function(){return this.layoutManager.getGroupKeys()},InfiniteGrid.prototype.layout=function(){var t=!(arguments.length>0&&arguments[0]!==undefined)||arguments[0],e=arguments[1],n=arguments[2];this._status.isProcessing=!0;var o=i({isAppend:!0,removedCount:0},n);return e||o.isAppend||(o.isAppend=!0),this._waitResource(t,o.isAppend?e:e.reverse(),o),this},InfiniteGrid.prototype._onLayoutComplete=function(t,e,n){this.layoutManager.layoutItems(t,e,n),this._postLayout(t,e,n)},InfiniteGrid.prototype.append=function(t,e){return this._insert(t,e,!0)},InfiniteGrid.prototype.prepend=function(t,e){return this._insert(t,e,!1)},InfiniteGrid.prototype.clear=function(){return this.el.innerHTML="",this.el.style.height="",this._reset(),this},InfiniteGrid.prototype.getTopElement=function(){var t=this.layoutManager.getTopItem();return t&&t.el},InfiniteGrid.prototype.getBottomElement=function(){var t=this.layoutManager.getBottomItem();return t&&t.el},InfiniteGrid.prototype._resizeContainerHeight=function(){this.el.style.height=this.layoutManager.getLogicalHeight()+"px"},InfiniteGrid.prototype._postLayout=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],n=arguments[2];if(this.isProcessing()){this._resizeContainerHeight(),this._timer.doubleCheckCount=c.RETRY,this._status.topElement=this.getTopElement(),this._status.bottomElement=this.getBottomElement();var i=0;n.isAppend||(i=e.length>=this.layoutManager.items.length?0:this.layoutManager.items[e.length].position.y)>0&&(this._status.prevScrollTop=p.utils.scrollTop(this.view)+i,p.utils.scrollTo(this.view,0,this._status.prevScrollTop)),this._status.isProcessing=!1,this.trigger("layoutComplete",{target:e.concat(),isAppend:n.isAppend,distance:i,croppedCount:n.removedCount}),!n.isAppend&&this._doubleCheckForPrepend()}},InfiniteGrid.prototype._doubleCheckForPrepend=function(){var t=this;0===p.utils.scrollTop(this.view)&&(clearInterval(this._timer.doubleCheck),this._timer.doubleCheck=setInterval(function(){0===p.utils.scrollTop(t.view)&&(t.trigger("prepend",{scrollTop:0}),--t._timer.doubleCheckCount<=0&&clearInterval(t._timer.doubleCheck))},500))},InfiniteGrid.prototype._prepareElement=function(t){var e=p.utils.$(t,!0);return e=e.filter(function(t){return/DIV|SPAN|LI/.test(t.tagName)}),this._status.isProcessing=!0,this.isRecycling()||(this._status.isRecycling=this.layoutManager.items.length+e.length>=this.options.count),e},InfiniteGrid.prototype._insert=function(t,e,n){if(this.isProcessing()||0===t.length)return 0;var i=this._prepareElement(t),o=i.concat(),r=-this._status.clientHeight+"px";i.forEach(function(t){t.style.position="absolute",t.style.top=r});var s=this._adjustRange(n,o),u=l.document.createDocumentFragment();return o.forEach(function(t){return u.appendChild(t)}),n?this.el.appendChild(u):this.el.insertBefore(u,this.el.firstChild),this.layout(!1,y["default"].itemize(o,e),{isAppend:n,removedCount:s}),o.length},InfiniteGrid.prototype._waitResource=function(t,e,n){var i=f["default"].checkImageLoaded(this.el),o=function(){this._onLayoutComplete(t,e,n)}.bind(this);i.length>0?f["default"].waitImageLoaded(i,o):setTimeout(function(){o&&o()},0)},InfiniteGrid.prototype._adjustRange=function(t,e){var n=0;if(!this.isRecycling())return n;this.options.count<=e.length&&(n+=t?e.splice(0,e.length-this.options.count).length:e.splice(this.options.count).length);var i=this.layoutManager.items.length+e.length-this.options.count,o=void 0;if(i<=0||(o=this.layoutManager.getDelimiterIndex(t,i))<0)return n;var r=this.layoutManager.adjustItems(t,o);return r.forEach(function(t){o=e.indexOf(t.el),-1!==o?e.splice(o,1):t.el.parentNode.removeChild(t.el)}),n+=r.length},InfiniteGrid.prototype._fitItems=function(){var t=this.layoutManager.fit();return 0!==t&&this._resizeContainerHeight(),t},InfiniteGrid.prototype._reset=function(){this._status={isProcessing:!1,isRecycling:!1,prevScrollTop:0,topElement:null,bottomElement:null,clientHeight:this._status&&this._status.clientHeight},this._timer={resize:null,doubleCheck:null,doubleCheckCount:c.RETRY},this.layoutManager.resetCols(),this.layoutManager.clear()},InfiniteGrid.prototype.remove=function(t){return this.layoutManager.removeItem(t)},InfiniteGrid.prototype.destroy=function(){this.off(),this._detachEvent(),this._reset()},InfiniteGrid}((0,p.Mixin)(s["default"])["with"](a["default"]));e["default"]=_,t.exports=e["default"]},function(t,e,n){!function(e,n){t.exports=n()}(0,function(){return function(t){function __webpack_require__(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,__webpack_require__),i.l=!0,i.exports}var e={};return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.i=function(t){return t},__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=1)}([function(t,e,n){"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function Component(){_classCallCheck(this,Component),this._eventHandler={},this.options={}}return Component.prototype.option=function(){if(arguments.length>=2){var t=arguments.length<=0?undefined:arguments[0],e=arguments.length<=1?undefined:arguments[1];return this.options[t]=e,this}var n=arguments.length<=0?undefined:arguments[0];if("string"==typeof n)return this.options[n];if(0===arguments.length)return this.options;var i=n;return this.options=i,this},Component.prototype.trigger=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},n=this._eventHandler[t]||[];if(!(n.length>0))return!0;n=n.concat(),e.eventType=t;var i=!1,o=[e],r=void 0;e.stop=function(){i=!0};for(var s=arguments.length,u=Array(s>2?s-2:0),a=2;a<s;a++)u[a-2]=arguments[a];u.length>=1&&(o=o.concat(u));for(r in n)n[r].apply(this,o);return!i},Component.prototype.once=function(t,e){if("object"===(void 0===t?"undefined":i(t))&&void 0===e){var n=t,o=void 0;for(o in n)this.once(o,n[o]);return this}if("string"==typeof t&&"function"==typeof e){var r=this;this.on(t,function listener(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];e.apply(r,i),r.off(t,listener)})}return this},Component.prototype.hasOn=function(t){return!!this._eventHandler[t]},Component.prototype.on=function(t,e){if("object"===(void 0===t?"undefined":i(t))&&void 0===e){var n=t,o=void 0;for(o in n)this.on(o,n[o]);return this}if("string"==typeof t&&"function"==typeof e){var r=this._eventHandler[t];void 0===r&&(this._eventHandler[t]=[],r=this._eventHandler[t]),r.push(e)}return this},Component.prototype.off=function(t,e){if(void 0===t)return this._eventHandler={},this;if(void 0===e){if("string"==typeof t)return this._eventHandler[t]=undefined,this;var n=t,i=void 0;for(i in n)this.off(i,n[i]);return this}var o=this._eventHandler[t];if(o){var r=void 0,s=void 0;for(r=0;(s=o[r])!==undefined;r++)if(s===e){o=o.splice(r,1);break}}return this},Component}();e["default"]=o,t.exports=e["default"]},function(t,e,n){"use strict";var i=n(0),o=function(t){return t&&t.__esModule?t:{"default":t}}(i);o["default"].VERSION="2.0.0-rc",t.exports=o["default"]}])})},function(t,e,n){"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var i=n(1),o=n(0);e["default"]=function(t){return function(t){function _class(e,n){_classCallCheck(this,_class);var i=_possibleConstructorReturn(this,t.call(this));return i._onScroll=i._onScroll.bind(i),i._onResize=i._onResize.bind(i),i}return _inherits(_class,t),_class.prototype._attachEvent=function(){o.utils.addEvent(this.view,"scroll",this._onScroll),o.utils.addEvent(window,"resize",this._onResize)},_class.prototype._onScroll=function(){if(!this.isProcessing()){var t=o.utils.scrollTop(this.view),e=this._status.prevScrollTop;if(!(i.IS_IOS&&0===t||e===t)){var n=void 0,r=void 0;if(e<t){if(o.utils.isEmptyObject(this._status.bottomElement)&&(this._status.bottomElement=this.getBottomElement(),null==this._status.bottomElement))return;n=this._status.bottomElement,r=n.getBoundingClientRect(),r.top<=this._status.clientHeight+this.options.threshold&&this.trigger("append",{scrollTop:t})}else{if(o.utils.isEmptyObject(this._status.topElement)&&(this._status.topElement=this.getTopElement(),null==this._status.topElement))return;if(n=this._status.topElement,r=n.getBoundingClientRect(),r.bottom>=-this.options.threshold){var s=this._fitItems();s>0&&(t-=s,o.utils.scrollTo(this.view,0,t)),this.trigger("prepend",{scrollTop:t})}}this._status.prevScrollTop=t}}},_class.prototype._onResize=function(){var t=this;this._timer.resize&&clearTimeout(this._timer.resize),this._timer.resize=setTimeout(function(){t.layoutManager.isNeededResize()&&(t._resizeViewport(),t.layout(!0)),t._timer.resize=null,t._status.prevScrollTop=-1},100)},_class.prototype._detachEvent=function(){o.utils.removeEvent(this.view,"scroll",this._onScroll),o.utils.removeEvent(window,"resize",this._onResize)},_class}(t)},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var i=n(1),o=n(0),r={checkImageLoaded:function(t){return Array.prototype.slice.call(t.querySelectorAll("img")).filter(function(t){return!(!t.nodeType||-1===[1,9,11].indexOf(t.nodeType))&&!t.complete})},waitImageLoaded:function(t,e){var n=t.length,r=function(){--n<=0&&e&&e()},s=function onCheck(t){o.utils.removeEvent(t.target,"load",onCheck),o.utils.removeEvent(t.target,"error",onCheck),r()};i.IS_IE&&t.forEach(function(t){return t.setAttribute("src",t.getAttribute("src"))}),t.forEach(function(t){t.complete?r():(o.utils.addEvent(t,"load",s),o.utils.addEvent(t,"error",s))})}};e["default"]=r,t.exports=e["default"]},function(t,e,n){"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=n(0),r=function(){function LayoutManager(t,e){_classCallCheck(this,LayoutManager),this.options=e,this.size={columnWidth:null,containerWidth:null,equalItemSize:null},this.el=t,this.el.style.position="relative",this.clear(),this.prependCols=[],this.appendCols=[]}return LayoutManager.itemize=function(t,e,n){return Array.prototype.slice.call(t).map(function(t){return{el:t,position:{x:0,y:0},groupKey:void 0===e?null:e}})},LayoutManager.prototype.appendItems=function(t){this.items=this.items.concat(t)},LayoutManager.prototype.prependItems=function(t){this.items=t.concat(this.items);var e=this.getTopPositonY();return 0!==e?(this.items.forEach(function(t){t.position.y-=e}),this.syncCols(!1),this.syncCols(!0),this.items):t},LayoutManager.prototype.removeItem=function(t){for(var e=null,n=-1,o=0,r=this.items.length;o<r;o++)if(this.items[o].el===t){n=o;break}return~n&&(e=i({},this.items[n]),this.items.splice(n,1),e.el.parentNode.removeChild(e.el)),e},LayoutManager.prototype.prepareLayout=function(t,e,n){var i=!this.items.length;e&&n&&this.appendItems(e),i&&e&&e.forEach(function(t){t.el.style.position="absolute"}),i||t?this.resetCols(this.measureColumns()):e||(this.appendCols=[].concat(this.prependCols))},LayoutManager.prototype.layoutItems=function(t,e,n){var i=this;this.prepareLayout(t,e,n.isAppend);var o=e||this.items;o.forEach(function(e){e.position=i.getItemPosition(t,e,n.isAppend)}),e&&!n.isAppend&&(o=this.prependItems(e.sort(function(t,e){return t.position.y-e.position.y})));var r=void 0;o.forEach(function(t){t.el&&(r=t.el.style,r.left=t.position.x+"px",r.top=t.position.y+"px")})},LayoutManager.prototype.resetCols=function(t){for(var e=[],n=t||this.appendCols.length||0;n--;)e.push(0);this.appendCols=e.concat(),this.prependCols=e.concat()},LayoutManager.prototype.clear=function(){this.items=[]},LayoutManager.prototype.getItemPosition=function(t,e,n){if(!e||!e.el)return{x:0,y:0};!t&&e.size||(e.size=this.getItemSize(e.el));var i=n?this.appendCols:this.prependCols,o=Math[n?"min":"max"].apply(Math,i),r=void 0;if(n)r=i.indexOf(o);else for(var s=i.length;s-- >=0;)if(i[s]===o){r=s;break}return i[r]=o+(n?e.size.height:-e.size.height),{x:this.size.columnWidth*r,y:n?o:o-e.size.height}},LayoutManager.prototype.getGroupKeys=function(){return this.items.map(function(t){return t.groupKey})},LayoutManager.prototype.syncCols=function(t){if(this.items.length)for(var e=this.getColItems(t),n=t?this.appendCols:this.prependCols,i=n.length,o=0;o<i;o++)n[o]=e[o].position.y+(t?e[o].size.height:0)},LayoutManager.prototype.getTopPositonY=function(){var t=this.getTopItem();return t?t.position.y:0},LayoutManager.prototype.getTopItem=function(){var t=null,e=Infinity;return this.getColItems(!1).forEach(function(n){n&&n.position.y<e&&(e=n.position.y,t=n)}),t},LayoutManager.prototype.getBottomItem=function(){var t=-Infinity,e=null,n=void 0;return this.getColItems(!0).forEach(function(i){(n=i?i.position.y+i.size.height:0)>=t&&(t=n,e=i)}),e},LayoutManager.prototype.getColIdx=function(t){return parseInt(t.position.x/parseInt(this.size.columnWidth,10),10)},LayoutManager.prototype.getColItems=function(t){for(var e=this.appendCols.length,n=new Array(e),i=void 0,o=void 0,r=0,s=t?this.items.length-1:0;i=this.items[s];){if(o=this.getColIdx(i),!n[o]&&(n[o]=i,++r===e))return n;s+=t?-1:1}return n},LayoutManager.prototype.fit=function(){if(this.options.count<=0)return this.fit=function(){return 0},!1;var t=this.getTopPositonY();return 0!==t&&(this.items.forEach(function(e){e.position.y-=t,e.el.style.top=e.position.y+"px"}),this.syncCols(!1),this.syncCols(!0)),t},LayoutManager.prototype.getLogicalHeight=function(){return Math.max.apply(Math,this.appendCols)},LayoutManager.prototype.getDelimiterIndex=function(t,e){var n=this.items.length;if(n===e)return n;var i=void 0,o=0,r=t?e-1:n-e,s=r+(t?1:-1),u=this.items[r].groupKey;if(null!=u&&u===this.items[s].groupKey)if(t){for(i=r;i>0&&u===this.items[i].groupKey;i--);o=0===i?-1:i+1}else{for(i=r;i<n&&u===this.items[i].groupKey;i++);o=i===n?-1:i}else o=t?s:r;return o},LayoutManager.prototype.adjustItems=function(t,e){var n=void 0;return t?(n=this.items.splice(0,e),this.syncCols(!1)):(n=e===this.items.length?this.items.splice(0):this.items.splice(e,this.items.length-e),this.syncCols(!0)),n},LayoutManager.prototype.measureColumns=function(){this.el.style.width=null,this.size.containerWidth=o.utils.innerWidth(this.el),this.size.columnWidth=this.getColumnWidth()||this.size.containerWidth;var t=this.size.containerWidth/this.size.columnWidth,e=this.size.columnWidth-this.size.containerWidth%this.size.columnWidth;return(t=Math.max(Math[e&&e<=1?"round":"floor"](t),1))||0},LayoutManager.prototype.getItemSize=function(t){return this.size.equalItemSize||{width:o.utils.innerWidth(t),height:o.utils.innerHeight(t)}},LayoutManager.prototype.getColumnWidth=function(){var t=0,e=this.items[0]&&this.items[0].el;return e&&(t=o.utils.innerWidth(e),this.options.isEqualSize&&(this.size.equalItemSize={width:t,height:o.utils.innerHeight(e)})),t},LayoutManager.prototype.isNeededResize=function(){return o.utils.innerWidth(this.el)!==this.size.containerWidth},LayoutManager.prototype.getStatus=function(){var t={};for(var e in this)!Object.prototype.hasOwnProperty.call(this,e)||"function"==typeof this[e]||this[e]instanceof Element||(t[e]=this[e]);return{prop:t,items:this.items.map(function(t){var e=i({},t);return delete e.el,e})}},LayoutManager.prototype.setStatus=function(t){return t&&t.prop&&t.items?(i(this,t.prop),this.items=Array.prototype.slice.call(this.el.children).map(function(e,n){return t.items[n].el=e,t.items[n]}),this):this},LayoutManager}();e["default"]=r,t.exports=e["default"]}])});