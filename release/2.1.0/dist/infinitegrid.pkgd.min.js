/*!
 * Copyright (c) 2017 NAVER Corp.
 * @egjs/infinitegrid project is licensed under the MIT license
 * 
 * @egjs/infinitegrid JavaScript library
 * https://github.com/naver/egjs-infinitegrid
 * 
 * @version 2.1.0
 * 
 * All-in-one packaged file for ease use of '@egjs/infinitegrid' with below dependencies.
 * NOTE: This is not an official distribution file and is only for user convenience.
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("InfiniteGrid",[],e):"object"==typeof exports?exports.InfiniteGrid=e():(t.eg=t.eg||{},t.eg.InfiniteGrid=e())}(this,function(){return function(t){function __webpack_require__(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}var e={};return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,i){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3)}([function(t,e,i){"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0,e.utils=e.Mixin=undefined;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=i(2),r=!!("getComputedStyle"in o.window),s=!!("addEventListener"in o.document),u=function(){var t=!1;try{s&&Object.defineProperty&&o.document.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(e){}return t}(),a={$:function(t){var e=arguments.length>1&&arguments[1]!==undefined&&arguments[1],i=void 0;if("string"==typeof t){if(t.match(/^<([a-z]+)\s*([^>]*)>/)){var n=o.document.createElement("div");n.innerHTML=t,i=this.toArray(n.childNodes)}else i=this.toArray(o.document.querySelectorAll(t));e||(i=i.length>=1?i[0]:undefined)}else t===o.window?i=t:!t.nodeName||1!==t.nodeType&&9!==t.nodeType?"jQuery"in o.window&&t instanceof jQuery||t.constructor.prototype.jquery?i=e?t.toArray():t.get(0):Array.isArray(t)&&(i=t.map(function(t){return a.$(t)}),e||(i=i.length>=1?i[0]:undefined)):i=t;return i},addEvent:function(t,e,i,o){if(s){var r=o||!1;"object"===(void 0===o?"undefined":n(o))&&(r=!!u&&o),t.addEventListener(e,i,r)}else t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},removeEvent:function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null},scrollTop:function(t){return t===o.window?o.document.body.scrollTop||o.document.documentElement.scrollTop:t.scrollTop},scrollTo:function(t,e,i){t===o.window?t.scrollTo(e,i):(t.scrollLeft=e,t.scrollTop=i)},getSize:function(t,e){if(t===o.window)return t.document.documentElement["client"+e];if(9===t.nodeType){var i=t.documentElement;return Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])}var n=r?o.window.getComputedStyle(t):t.currentStyle,s=n[e.toLowerCase()];return parseFloat(/auto|%/.test(s)?t["offset"+e]:n[e.toLowerCase()])},innerWidth:function(t){return this.getSize(t,"Width")},innerHeight:function(t){return this.getSize(t,"Height")},isEmptyObject:function(t){var e=void 0;for(e in t)return!1;return!0},toArray:function(t){var e=[];if(t)for(var i=0,n=t.length;i<n;i++)e.push(t[i]);return e}},l=function(){function MixinBuilder(t){_classCallCheck(this,MixinBuilder),this.superclass=t||function(){function _class(){_classCallCheck(this,_class)}return _class}()}return MixinBuilder.prototype["with"]=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.reduce(function(t,e){return e(t)},this.superclass)},MixinBuilder}(),c=function(t){return new l(t)};e.Mixin=c,e.utils=a},function(t,e,i){"use strict";e.__esModule=!0,e.CONTAINER_CLASSNAME=e.RETRY=e.IS_ANDROID2=e.IS_IOS=e.IS_IE=undefined;var n=i(2),o=n.window.navigator.userAgent;e.IS_IE=/MSIE|Trident|Windows Phone|Edge/.test(o),e.IS_IOS=/iPhone|iPad/.test(o),e.IS_ANDROID2=/Android 2\./.test(o),e.RETRY=3,e.CONTAINER_CLASSNAME="_eg-infinitegrid-container_"},function(t,e,i){"use strict";e.__esModule=!0;var n="undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")();e.window=n;e.document=n.document},function(t,e,i){"use strict";var n=i(4),o=function(t){return t&&t.__esModule?t:{"default":t}}(n);t.exports=o["default"]},function(t,e,i){"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=i(5),s=_interopRequireDefault(r),u=i(6),a=_interopRequireDefault(u),l=i(2),c=i(1),p=i(0),h=i(7),f=_interopRequireDefault(h),d=i(8),y=_interopRequireDefault(d);"function"!=typeof Object.create&&(Object.create=function(t,e){function F(){}if("object"!==(void 0===t?"undefined":o(t))&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");return F.prototype=t,new F});var _=function(t){function InfiniteGrid(e,i){_classCallCheck(this,InfiniteGrid);var o=_possibleConstructorReturn(this,t.call(this,e,i));n(o.options={isEqualSize:!1,defaultGroupKey:null,count:100,isOverflowScroll:!1,itemSelector:"*",threshold:300},i),c.IS_ANDROID2&&(o.options.isOverflowScroll=!1),o._initElements(e),o.layoutManager=new y["default"](o.el,o.options),o._reset(),o._resizeViewport();for(var r=[],s=0,u=o.el.children,a=u.length;s<a;s++)r.push(u[s]);return r=o._selectItems(r),r.length>0&&o.layout(!0,y["default"].itemize(r,o.options.defaultGroupKey)),o._attachEvent(),o}return _inherits(InfiniteGrid,t),InfiniteGrid.prototype._initElements=function(t){var e=p.utils.$(t);if(this.options.isOverflowScroll){var i=e.querySelector("."+c.CONTAINER_CLASSNAME);if(!i){i=l.document.createElement("div"),i.className=c.CONTAINER_CLASSNAME;for(var n=e.children,o=n.length,r=0;r<o;r++)i.appendChild(n[0]);e.style.overflowY="scroll",e.appendChild(i)}this.view=e,this.el=i}else this.view=l.window,this.el=e},InfiniteGrid.prototype._resizeViewport=function(){this._status.clientHeight=p.utils.innerHeight(this.view)},InfiniteGrid.prototype.getStatus=function(){var t={},e=this.view===l.window?this.el:this.view;for(var i in this._status)!this._status.hasOwnProperty.call(i)||this._status[i]instanceof Element||(t[i]=this._status[i]);return{html:e.innerHTML,cssText:e.style.cssText,layoutManager:this.layoutManager.getStatus(),options:n({},this.options),prop:t,scrollPos:p.utils.scrollTop(this.view)}},InfiniteGrid.prototype.setStatus=function(t,e){if(!(t&&t.options&&t.prop&&t.layoutManager&&t.html&&t.cssText&&"scrollPos"in t))return this;var i=t.options.isOverflowScroll?this.view:this.el;return this._detachEvent(),this._initElements(this.view===l.window?this.el:this.view),i.style.cssText=t.cssText,i.innerHTML=t.html,n(this.options,t.options),n(this._status,t.prop),this.layoutManager.setStatus(t.layoutManager),this._status.topElement=this.getTopElement(),this._status.bottomElement=this.getBottomElement(),this._attachEvent(),e&&p.utils.scrollTo(this.view,0,t.scrollPos),this},InfiniteGrid.prototype.isProcessing=function(){return this._status.isProcessing},InfiniteGrid.prototype.isRecycling=function(){return this.options.count>0&&this._status.isRecycling},InfiniteGrid.prototype.getGroupKeys=function(){return this.layoutManager.getGroupKeys()},InfiniteGrid.prototype.layout=function(){var t=!(arguments.length>0&&arguments[0]!==undefined)||arguments[0],e=arguments[1],i=arguments[2];this._status.isProcessing=!0;var o=n({isAppend:!0,removedCount:0,isTrusted:!1},i);return e||o.isAppend||(o.isAppend=!0),this._waitResource(t,o.isAppend?e:e.reverse(),o),this},InfiniteGrid.prototype._onLayoutComplete=function(t,e,i){this.layoutManager.layoutItems(t,e,i),this._postLayout(t,e,i)},InfiniteGrid.prototype.append=function(t,e){return this._insert(t,e,!0)},InfiniteGrid.prototype.prepend=function(t,e){return this._insert(t,e,!1)},InfiniteGrid.prototype.clear=function(){return this.el.innerHTML="",this.el.style.height="",this._reset(),this},InfiniteGrid.prototype.getTopElement=function(){var t=this.layoutManager.getTopItem();return t&&t.el},InfiniteGrid.prototype.getBottomElement=function(){var t=this.layoutManager.getBottomItem();return t&&t.el},InfiniteGrid.prototype._resizeContainerHeight=function(){this.el.style.height=this.layoutManager.getLogicalHeight()+"px"},InfiniteGrid.prototype._postLayout=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[],i=arguments[2];if(this.isProcessing()){this._resizeContainerHeight(),this._timer.doubleCheckCount=c.RETRY,this._status.topElement=this.getTopElement(),this._status.bottomElement=this.getBottomElement();var n=0;i.isAppend||(n=e.length>=this.layoutManager.items.length?0:this.layoutManager.items[e.length].position.y)>0&&(this._status.prevScrollTop=p.utils.scrollTop(this.view)+n,p.utils.scrollTo(this.view,0,this._status.prevScrollTop)),this._status.isProcessing=!1,this.trigger("layoutComplete",{target:e.concat(),isAppend:i.isAppend,distance:n,croppedCount:i.removedCount,isTrusted:i.isTrusted}),!i.isAppend&&this._doubleCheckForPrepend()}},InfiniteGrid.prototype._doubleCheckForPrepend=function(){var t=this;0===p.utils.scrollTop(this.view)&&(clearInterval(this._timer.doubleCheck),this._timer.doubleCheck=setInterval(function(){0===p.utils.scrollTop(t.view)&&(t.trigger("prepend",{scrollTop:0}),--t._timer.doubleCheckCount<=0&&clearInterval(t._timer.doubleCheck))},500))},InfiniteGrid.prototype._selectItems=function(t){var e=this;return t.filter(function(t){return"*"===e.options.itemSelector?/DIV|SPAN|LI/.test(t.tagName):t.className.split(" ").some(function(t){return t===e.options.itemSelector})})},InfiniteGrid.prototype._prepareElement=function(t){var e=p.utils.$(t,!0);return e=this._selectItems(e),this._status.isProcessing=!0,this.isRecycling()||(this._status.isRecycling=this.layoutManager.items.length+e.length>=this.options.count),e},InfiniteGrid.prototype._insert=function(t,e,i){if(this.isProcessing()||0===t.length)return 0;var n=this._prepareElement(t),o=n.concat(),r=-this._status.clientHeight+"px";n.forEach(function(t){t.style.position="absolute",t.style.top=r});var s=this._adjustRange(i,o),u=l.document.createDocumentFragment();return o.forEach(function(t){return u.appendChild(t)}),i?this.el.appendChild(u):this.el.insertBefore(u,this.el.firstChild),this.layout(!1,y["default"].itemize(o,e),{isAppend:i,removedCount:s}),o.length},InfiniteGrid.prototype._waitResource=function(t,e,i){var n=f["default"].checkImageLoaded(this.el),o=function(){this._onLayoutComplete(t,e,i)}.bind(this);n.length>0?f["default"].waitImageLoaded(n,o):setTimeout(function(){o&&o()},0)},InfiniteGrid.prototype._adjustRange=function(t,e){var i=0;if(!this.isRecycling())return i;this.options.count<=e.length&&(i+=t?e.splice(0,e.length-this.options.count).length:e.splice(this.options.count).length);var n=this.layoutManager.items.length+e.length-this.options.count,o=void 0;if(n<=0||(o=this.layoutManager.getDelimiterIndex(t,n))<0)return i;var r=this.layoutManager.adjustItems(t,o);return r.forEach(function(t){o=e.indexOf(t.el),-1!==o?e.splice(o,1):t.el.parentNode.removeChild(t.el)}),i+=r.length},InfiniteGrid.prototype._fitItems=function(){var t=this.layoutManager.fit();return 0!==t&&this._resizeContainerHeight(),t},InfiniteGrid.prototype._reset=function(){this._status={isProcessing:!1,isRecycling:!1,prevScrollTop:0,topElement:null,bottomElement:null,clientHeight:this._status&&this._status.clientHeight},this._timer={resize:null,doubleCheck:null,doubleCheckCount:c.RETRY},this.layoutManager.resetCols(),this.layoutManager.clear()},InfiniteGrid.prototype.remove=function(t){return this.layoutManager.removeItem(t)},InfiniteGrid.prototype.destroy=function(){this.off(),this._detachEvent(),this._reset()},InfiniteGrid}((0,p.Mixin)(s["default"])["with"](a["default"]));_.VERSION="2.1.0",e["default"]=_,t.exports=e["default"]},function(t,e,i){!function(e,i){t.exports=i()}(0,function(){return function(t){function __webpack_require__(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,__webpack_require__),n.l=!0,n.exports}var e={};return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.d=function(t,e,i){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=0)}([function(t,e,i){"use strict";var n=i(1),o=function(t){return t&&t.__esModule?t:{"default":t}}(n);o["default"].VERSION="2.0.0",t.exports=o["default"]},function(t,e,i){"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function Component(){_classCallCheck(this,Component),this._eventHandler={},this.options={}}return Component.prototype.trigger=function(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},i=this._eventHandler[t]||[];if(!(i.length>0))return!0;i=i.concat(),e.eventType=t;var n=!1,o=[e],r=0;e.stop=function(){n=!0};for(var s=arguments.length,u=Array(s>2?s-2:0),a=2;a<s;a++)u[a-2]=arguments[a];for(u.length>=1&&(o=o.concat(u)),r=0;i[r];r++)i[r].apply(this,o);return!n},Component.prototype.once=function(t,e){if("object"===(void 0===t?"undefined":n(t))&&void 0===e){var i=t,o=void 0;for(o in i)this.once(o,i[o]);return this}if("string"==typeof t&&"function"==typeof e){var r=this;this.on(t,function listener(){for(var i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];e.apply(r,n),r.off(t,listener)})}return this},Component.prototype.hasOn=function(t){return!!this._eventHandler[t]},Component.prototype.on=function(t,e){if("object"===(void 0===t?"undefined":n(t))&&void 0===e){var i=t,o=void 0;for(o in i)this.on(o,i[o]);return this}if("string"==typeof t&&"function"==typeof e){var r=this._eventHandler[t];void 0===r&&(this._eventHandler[t]=[],r=this._eventHandler[t]),r.push(e)}return this},Component.prototype.off=function(t,e){if(void 0===t)return this._eventHandler={},this;if(void 0===e){if("string"==typeof t)return this._eventHandler[t]=undefined,this;var i=t,n=void 0;for(n in i)this.off(n,i[n]);return this}var o=this._eventHandler[t];if(o){var r=void 0,s=void 0;for(r=0;(s=o[r])!==undefined;r++)if(s===e){o=o.splice(r,1);break}}return this},Component}();e["default"]=o,t.exports=e["default"]}])})},function(t,e,i){"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var n=i(1),o=i(0);e["default"]=function(t){return function(t){function _class(e,i){_classCallCheck(this,_class);var n=_possibleConstructorReturn(this,t.call(this));return n._onScroll=n._onScroll.bind(n),n._onResize=n._onResize.bind(n),n}return _inherits(_class,t),_class.prototype._attachEvent=function(){o.utils.addEvent(this.view,"scroll",this._onScroll),o.utils.addEvent(window,"resize",this._onResize)},_class.prototype._onScroll=function(){if(!this.isProcessing()){var t=o.utils.scrollTop(this.view),e=this._status.prevScrollTop;if(!(n.IS_IOS&&0===t||e===t)){var i=void 0,r=void 0;if(e<t){if(o.utils.isEmptyObject(this._status.bottomElement)&&(this._status.bottomElement=this.getBottomElement(),null==this._status.bottomElement))return;i=this._status.bottomElement,r=i.getBoundingClientRect(),r.top<=this._status.clientHeight+this.options.threshold&&this.trigger("append",{scrollTop:t,isTrusted:!0})}else{if(o.utils.isEmptyObject(this._status.topElement)&&(this._status.topElement=this.getTopElement(),null==this._status.topElement))return;if(i=this._status.topElement,r=i.getBoundingClientRect(),r.bottom>=-this.options.threshold){var s=this._fitItems();s>0&&(t-=s,o.utils.scrollTo(this.view,0,t)),this.trigger("prepend",{scrollTop:t,isTrusted:!0})}}this._status.prevScrollTop=t}}},_class.prototype._onResize=function(){var t=this;this._timer.resize&&clearTimeout(this._timer.resize),this._timer.resize=setTimeout(function(){t.layoutManager.isNeededResize()&&(t._resizeViewport(),t.layout(!0,t.layoutManager.items,{isAppend:!0,isTrusted:!0})),t._timer.resize=null,t._status.prevScrollTop=-1},100)},_class.prototype._detachEvent=function(){o.utils.removeEvent(this.view,"scroll",this._onScroll),o.utils.removeEvent(window,"resize",this._onResize)},_class}(t)},t.exports=e["default"]},function(t,e,i){"use strict";e.__esModule=!0;var n=i(1),o=i(0),r={checkImageLoaded:function(t){return o.utils.toArray(t.querySelectorAll("img")).filter(function(t){return!(!t.nodeType||-1===[1,9,11].indexOf(t.nodeType))&&!t.complete})},waitImageLoaded:function(t,e){var i=t.length,r=function(){--i<=0&&e&&e()},s=function onCheck(t){o.utils.removeEvent(t.target||t.srcElement,"load",onCheck),o.utils.removeEvent(t.target||t.srcElement,"error",onCheck),r()};n.IS_IE&&t.forEach(function(t){return t.setAttribute("src",t.getAttribute("src"))}),t.forEach(function(t){t.complete?r():(o.utils.addEvent(t,"load",s),o.utils.addEvent(t,"error",s))})}};e["default"]=r,t.exports=e["default"]},function(t,e,i){"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=i(0),r=function(){function LayoutManager(t,e){_classCallCheck(this,LayoutManager),this.options=e,this.size={columnWidth:null,containerWidth:null,equalItemSize:null},this.el=t,this.el.style.position="relative",this.clear(),this.prependCols=[],this.appendCols=[]}return LayoutManager.itemize=function(t,e,i){return o.utils.toArray(t).map(function(t){return{el:t,position:{x:0,y:0},groupKey:void 0===e?null:e}})},LayoutManager.prototype.appendItems=function(t){this.items=this.items.concat(t)},LayoutManager.prototype.prependItems=function(t){this.items=t.concat(this.items);var e=this.getTopPositonY();return 0!==e?(this.items.forEach(function(t){t.position.y-=e}),this.syncCols(!1),this.syncCols(!0),this.items):t},LayoutManager.prototype.removeItem=function(t){for(var e=null,i=-1,o=0,r=this.items.length;o<r;o++)if(this.items[o].el===t){i=o;break}return~i&&(e=n({},this.items[i]),this.items.splice(i,1),e.el.parentNode.removeChild(e.el)),e},LayoutManager.prototype.prepareLayout=function(t,e,i){var n=!this.items.length;e&&i&&this.appendItems(e),n&&e&&e.forEach(function(t){t.el.style.position="absolute"}),n||t?this.resetCols(this.measureColumns()):e||(this.appendCols=[].concat(this.prependCols))},LayoutManager.prototype.layoutItems=function(t,e,i){var n=this;this.prepareLayout(t,e,i.isAppend);var o=e||this.items;o.forEach(function(e){e.position=n.getItemPosition(t,e,i.isAppend)}),e&&!i.isAppend&&(o=this.prependItems(e.sort(function(t,e){return t.position.y-e.position.y})));var r=void 0;o.forEach(function(t){t.el&&(r=t.el.style,r.left=t.position.x+"px",r.top=t.position.y+"px")})},LayoutManager.prototype.resetCols=function(t){for(var e=[],i=t||this.appendCols.length||0;i--;)e.push(0);this.appendCols=e.concat(),this.prependCols=e.concat()},LayoutManager.prototype.clear=function(){this.items=[]},LayoutManager.prototype.getItemPosition=function(t,e,i){if(!e||!e.el)return{x:0,y:0};!t&&e.size||(e.size=this.getItemSize(e.el));var n=i?this.appendCols:this.prependCols,o=Math[i?"min":"max"].apply(Math,n),r=void 0;if(i)r=n.indexOf(o);else for(var s=n.length;s-- >=0;)if(n[s]===o){r=s;break}return n[r]=o+(i?e.size.height:-e.size.height),{x:this.size.columnWidth*r,y:i?o:o-e.size.height}},LayoutManager.prototype.getGroupKeys=function(){return this.items.map(function(t){return t.groupKey})},LayoutManager.prototype.syncCols=function(t){if(this.items.length)for(var e=this.getColItems(t),i=t?this.appendCols:this.prependCols,n=i.length,o=0;o<n;o++)i[o]=e[o].position.y+(t?e[o].size.height:0)},LayoutManager.prototype.getTopPositonY=function(){var t=this.getTopItem();return t?t.position.y:0},LayoutManager.prototype.getTopItem=function(){var t=null,e=Infinity;return this.getColItems(!1).forEach(function(i){i&&i.position.y<e&&(e=i.position.y,t=i)}),t},LayoutManager.prototype.getBottomItem=function(){var t=-Infinity,e=null,i=void 0;return this.getColItems(!0).forEach(function(n){(i=n?n.position.y+n.size.height:0)>=t&&(t=i,e=n)}),e},LayoutManager.prototype.getColIdx=function(t){return parseInt(t.position.x/parseInt(this.size.columnWidth,10),10)},LayoutManager.prototype.getColItems=function(t){for(var e=this.appendCols.length,i=new Array(e),n=void 0,o=void 0,r=0,s=t?this.items.length-1:0;n=this.items[s];){if(o=this.getColIdx(n),!i[o]&&(i[o]=n,++r===e))return i;s+=t?-1:1}return i},LayoutManager.prototype.fit=function(){if(this.options.count<=0)return this.fit=function(){return 0},!1;var t=this.getTopPositonY();return 0!==t&&(this.items.forEach(function(e){e.position.y-=t,e.el.style.top=e.position.y+"px"}),this.syncCols(!1),this.syncCols(!0)),t},LayoutManager.prototype.getLogicalHeight=function(){return Math.max.apply(Math,this.appendCols)},LayoutManager.prototype.getDelimiterIndex=function(t,e){var i=this.items.length;if(i===e)return i;var n=void 0,o=0,r=t?e-1:i-e,s=r+(t?1:-1),u=this.items[r].groupKey;if(null!=u&&u===this.items[s].groupKey)if(t){for(n=r;n>0&&u===this.items[n].groupKey;n--);o=0===n?-1:n+1}else{for(n=r;n<i&&u===this.items[n].groupKey;n++);o=n===i?-1:n}else o=t?s:r;return o},LayoutManager.prototype.adjustItems=function(t,e){var i=void 0;return t?(i=this.items.splice(0,e),this.syncCols(!1)):(i=e===this.items.length?this.items.splice(0):this.items.splice(e,this.items.length-e),this.syncCols(!0)),i},LayoutManager.prototype.measureColumns=function(){this.el.style.width=null,this.size.containerWidth=o.utils.innerWidth(this.el),this.size.columnWidth=this.getColumnWidth()||this.size.containerWidth;var t=this.size.containerWidth/this.size.columnWidth,e=this.size.columnWidth-this.size.containerWidth%this.size.columnWidth;return(t=Math.max(Math[e&&e<=1?"round":"floor"](t),1))||0},LayoutManager.prototype.getItemSize=function(t){return this.size.equalItemSize||{width:o.utils.innerWidth(t),height:o.utils.innerHeight(t)}},LayoutManager.prototype.getColumnWidth=function(){var t=0,e=this.items[0]&&this.items[0].el;return e&&(t=o.utils.innerWidth(e),this.options.isEqualSize&&(this.size.equalItemSize={width:t,height:o.utils.innerHeight(e)})),t},LayoutManager.prototype.isNeededResize=function(){return o.utils.innerWidth(this.el)!==this.size.containerWidth},LayoutManager.prototype.getStatus=function(){var t={};for(var e in this)!Object.prototype.hasOwnProperty.call(this,e)||"function"==typeof this[e]||this[e]instanceof Element||(t[e]=this[e]);return{prop:t,items:this.items.map(function(t){var e=n({},t);return delete e.el,e})}},LayoutManager.prototype.setStatus=function(t){return t&&t.prop&&t.items?(n(this,t.prop),this.items=o.utils.toArray(this.el.children).map(function(e,i){return t.items[i].el=e,t.items[i]}),this):this},LayoutManager}();e["default"]=r,t.exports=e["default"]}])});
//# sourceMappingURL=infinitegrid.pkgd.min.js.map